import{g as v}from"./theme.DwlMzJid.js";import{p as z}from"./theme.DwlMzJid.js";import"./framework.BbnuvnpR.js";const x=()=>{if(!CanvasRenderingContext2D||!l())return;const h=CanvasRenderingContext2D.prototype,u=h.drawImage;if(!u){console.error("This script requires a basic implementation of drawImage");return}h.drawImage=function(e,a,r){if(!(arguments.length===9))return u.apply(this,[...arguments]);const o=d(...arguments);if(!E(o))return u.apply(this,o)};function l(){const t=document.createElement("canvas").getContext("2d");t.fillRect(0,0,40,40),t.drawImage(t.canvas,-40,-40,80,80,50,50,20,20);const e=t.getImageData(50,50,30,30),a=new Uint32Array(e.data.buffer),r=(s,i)=>a[i*e.width+s],n=[[9,9],[20,9],[9,20],[20,20]],o=[[10,10],[19,10],[10,19],[19,19]];return n.some(([s,i])=>r(s,i)!==0)||o.some(([s,i])=>r(s,i)===0)}function d(t,e,a,r,n,o,s,i,c){const{width:I,height:M}=w(t);r<0&&(e+=r,r=Math.abs(r)),n<0&&(a+=n,n=Math.abs(n)),i<0&&(o+=i,i=Math.abs(i)),c<0&&(s+=c,c=Math.abs(c));const m=Math.max(e,0),f=Math.min(e+r,I),g=Math.max(a,0),p=Math.min(a+n,M),b=i/r,A=c/n;return[t,m,g,f-m,p-g,e<0?o-e*b:o,a<0?s-a*A:s,(f-m)*b,(p-g)*A]}function E(t){return[3,4,7,8].some(e=>!t[e])}function w(t){const e=a=>{const r=globalThis[a];return r&&t instanceof r};if(e("HTMLImageElement"))return{width:t.naturalWidth,height:t.naturalHeight};if(e("HTMLVideoElement"))return{width:t.videoWidth,height:t.videoHeight};if(e("SVGImageElement"))throw new TypeError("SVGImageElement isn't yet supported as source image.","UnsupportedError");if(e("HTMLCanvasElement")||e("ImageBitmap"))return t}};function R(h="gun-avatar"){let u=!1;if(u)return;class l extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.img=document.createElement("img"),this.shadowRoot.append(this.img)}render(){this.pub=this.hasAttribute("pub")?this.getAttribute("pub"):"1234123455Ute2tFhdjDQgzR-1234lfSlZxgEZKuquI.2F-j1234434U1234Asj-5lxnECG5TDyuPD8gEiuI123",this.size=this.hasAttribute("size")?Number(this.getAttribute("size")):400,this.draw=this.hasAttribute("draw")?this.getAttribute("draw"):"circles",this.reflect=this.hasAttribute("reflect")?this.getAttribute("reflect")!=="false":!0,this.round=this.hasAttribute("round")||this.getAttribute("round")==="",this.img.style.borderRadius=this.round?"100%":"0%",this.dark=this.hasAttribute("dark")||this.getAttribute("dark")==="",this.img.src=v({pub:this.pub,size:this.size,dark:this.dark,draw:this.draw,reflect:this.reflect})}connectedCallback(){this.render()}static get observedAttributes(){return["pub","round","size","dark","draw","reflect"]}attributeChangedCallback(){this.render()}}customElements.define(h,l),u=!0}x();export{v as gunAvatar,R as mountElement,z as parsePub};
